<!DOCTYPE html>
<html lang="en">
{% load static %}
<!-- Mirrored from askbootstrap.com/preview/swiggiweb/checkout' %} by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 07 Sep 2022 08:56:03 GMT -->
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="Askbootstrap">
<meta name="author" content="Askbootstrap">
<link rel="icon" type="image/png" href="{% static 'img/fav.png' %}">
<title>Go4Food</title>

<link rel="stylesheet" type="text/css" href="{% static 'vendor/slick/slick.min.css' %}" />
<link rel="stylesheet" type="text/css" href="{% static 'vendor/slick/slick-theme.min.css' %}" />

<link href="{% static 'vendor/icons/feather.css' %}" rel="stylesheet" type="text/css">

<link href="{% static 'vendor/bootstrap/css/bootstrap.min.css' %}" rel="stylesheet">

<link href="{% static 'css/style.css' %}" rel="stylesheet">

<link href="{% static 'vendor/sidebar/demo.css' %}" rel="stylesheet">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
</head>
<body class="fixed-bottom-bar">{% include 'header.html'%}
<div class="osahan-checkout">
<div class="d-none">
<div class="bg-primary border-bottom p-3 d-flex align-items-center">
<a class="toggle togglew toggle-2" href="#"><span></span></a>
<h4 class="font-weight-bold m-0 text-white">Checkout</h4>
</div>
</div>

<div class="container position-relative">
<div class="py-5 row">
<div class="col-md-8 mb-3">
<div>
<div class="osahan-cart-item mb-3 rounded shadow-sm bg-white overflow-hidden">
<div class="osahan-cart-item-profile bg-white p-3">
<div class="d-flex flex-column">
<h6 class="mb-3 font-weight-bold">Delivery Address</h6>
<div class="row">
<div class="custom-control col-lg-6 custom-radio mb-3 position-relative border-custom-radio">
<input type="radio" id="customRadioInline1" name="customRadioInline1" class="custom-control-input" checked>
<label class="custom-control-label w-100" for="customRadioInline1">
<div>
<div class="p-3 bg-white rounded shadow-sm w-100">
<div class="d-flex align-items-center mb-2">
<h6 class="mb-0">{{user.area }}</h6>
<p class="mb-0 badge badge-success ml-auto"><i class="icofont-check-circled"></i> Default</p>
</div>
<p class="small text-muted m-0">{{user.address}}</p>
</div>
</div>
</label>
</div>

</div>
<a class="btn btn-primary" href="{%url 'profile'%}" >Edit ADDRESS </a>
</div>
</div>
</div>
<div class="accordion mb-3 rounded shadow-sm bg-white overflow-hidden" id="accordionExample">
<div class="osahan-card bg-white border-bottom overflow-hidden">
<div class="osahan-card-header" id="headingOne">
<h2 class="mb-0">

</h2>
</div>
    <div class="col-md-4 pt-3">
        <div class="osahan-cart-item rounded rounded shadow-sm overflow-hidden bg-white sticky_sidebar">
        <form method="POST" action="/payment" id="cartform">
            <div class="d-flex border-bottom osahan-cart-item-profile bg-white p-3">
                <img alt="osahan" src="{% static 'img/starter1.jpg' %}" class="mr-3 rounded-circle img-fluid">
                <div class="d-flex flex-column">
                    <h6 class="mb-1 font-weight-bold">Your Cart</h6>
                    <p class="mb-0 small text-muted"><i class="feather-map-pin"></i> </p>
                </div>
            </div>
            <div class="bg-white border-bottom py-2 cartitemslist">

                <div class="gold-members d-flex align-items-center justify-content-between px-3 py-2">
                    <div class="media align-items-center">
                        <div class="mr-2 text-success">&middot;</div>
                        <div class="media-body">
                            <p class="m-0"></p>
                        </div>
                    </div>
                    <div class="d-flex align-items-center">
                        <span class="count-number float-right"><button type="button" class="btn-sm left dec btn btn-outline-secondary"> <i class="feather-minus"></i> </button><input class="count-number-input" type="text" readonly="" value="2"><button type="button" class="btn-sm right inc btn btn-outline-secondary"> <i class="feather-plus"></i> </button></span>
                        <p class="text-gray mb-0 float-right ml-2 text-muted small"></p>
                    </div>
                </div>
            </div>
            
            <div class="bg-white p-3 clearfix border-bottom">
                <p class="mb-1">Item Total <span class="float-right text-dark total_price"></span></p>
                <p class="mb-1">Delivery Fee<span class="text-info ml-1"><i class="feather-info"></i></span><span class="float-right text-dark Delivery_charge"></span></p>
                {% comment %} <p class="mb-1 text-success">Total Discount<span class="float-right text-success Discount"></span></p> {% endcomment %}
                <hr>
                <h6 class="font-weight-bold mb-0">TO PAY <span class="float-right total"></span></h6>
            </div>
            <div class="p-3">
                <button type="submit" class="btn btn-success btn-block btn-lg"  >PAY <span class="total"></span></h6> <i class="feather-arrow-right"></i></button>
            </div>
            <input type="hidden" id="products" name="products" value=""/>
            <input type="hidden" id="total" name="total" value=""/>
        </form>
        </div>
    </div>


</div>
</div>
</div>
</div>

{% include 'footer.html'%}
<nav id="main-nav">
<ul class="second-nav">
<li><a href="{% url 'home' %}"><i class="feather-home mr-2"></i> Homepage</a></li>
<li><a href="{% url 'my_order' %}"><i class="feather-list mr-2"></i> My Orders</a></li>
<li>
<a href="#"><i class="feather-edit-2 mr-2"></i> Authentication</a>
<ul>
<li><a href="{% url 'login' %}">Login</a></li>
<li><a href="{% url 'signup' %}">Register</a></li>
<li><a href="{% url 'forgot_password' %}">Forgot Password</a></li>
<li><a href="{% url 'verification' %}">Verification</a></li>
<li><a href="{% url 'location' %}">Location</a></li>
</ul>
</li>
<li><a href="{% url 'favorites' %}"><i class="feather-heart mr-2"></i> Favorites</a></li>
<li><a href="{% url 'trending' %}"><i class="feather-trending-up mr-2"></i> Trending</a></li>
<li><a href="{% url 'most_popular' %}"><i class="feather-award mr-2"></i> Most Popular</a></li>
<li><a href="{% url 'restaurant' %}"><i class="feather-paperclip mr-2"></i> Restaurant Detail</a></li>
<li><a href="{% url 'checkout' %}"><i class="feather-list mr-2"></i> Checkout</a></li>
<li><a href="{% url 'successful' %}"><i class="feather-check-circle mr-2"></i> Successful</a></li>
<li><a href="{% url 'map' %}"><i class="feather-map-pin mr-2"></i> Live Map</a></li>
<li>
<a href="#"><i class="feather-user mr-2"></i> Profile</a>
<ul>
<li><a href="{% url 'profile' %}">Profile</a></li>
<li><a href="{% url 'favorites' %}">Delivery support</a></li>
<li><a href="{% url 'contact_us' %}">Contact Us</a></li>
<li><a href="{% url 'terms' %}">Terms of use</a></li>
<li><a href="{% url 'privacy' %}">Privacy & Policy</a></li>
</ul>
</li>
<li>
<a href="#"><i class="feather-alert-triangle mr-2"></i> Error</a>
<ul>
<li><a href="{% url 'not_found' %}">Not Found</a>
<li><a href="{% url 'maintence' %}"> Maintence</a>
<li><a href="{% url 'coming_soon' %}">Coming Soon</a>
</ul>
</li>
<li>
<a href="#"><i class="feather-link mr-2"></i> Navigation Link Example</a>
<ul>
<li>
<a href="#">Link Example 1</a>
<ul>
<li>
<a href="#">Link Example 1.1</a>
<ul>
<li><a href="#">Link</a></li>
<li><a href="#">Link</a></li>
<li><a href="#">Link</a></li>
<li><a href="#">Link</a></li>
<li><a href="#">Link</a></li>
</ul>
</li>
<li>
<a href="#">Link Example 1.2</a>
<ul>
<li><a href="#">Link</a></li>
<li><a href="#">Link</a></li>
<li><a href="#">Link</a></li>
<li><a href="#">Link</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#">Link Example 2</a></li>
<li><a href="#">Link Example 3</a></li>
<li><a href="#">Link Example 4</a></li>
<li data-nav-custom-content>
<div class="custom-message">
You can add any custom content to your navigation items. This text is just an example.
</div>
</li>
</ul>
</li>
</ul>
<ul class="bottom-nav">
<li class="email">
<a class="text-danger" href="{% url 'home' %}">
<p class="h5 m-0"><i class="feather-home text-danger"></i></p>
Home
</a>
</li>
<li class="github">
<a href="{% url 'faq' %}">
<p class="h5 m-0"><i class="feather-message-circle"></i></p>
FAQ
</a>
</li>
<li class="ko-fi">
<a href="{% url 'contact_us' %}">
<p class="h5 m-0"><i class="feather-phone"></i></p>
Help
</a>
</li>
</ul>
</nav>

<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
<div class="modal-dialog modal-dialog-centered">
<div class="modal-content">
<div class="modal-header">
<h5 class="modal-title">Add Delivery Address</h5>
<button type="button" class="close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">&times;</span>
</button>
</div>
<div class="modal-body">
<form class="" method="POST" action="/address_update">
<div class="form-row">
{% comment %} <div class="col-md-12 form-group">
<label class="form-label">Delivery Area</label>

</div> {% endcomment %}
<div class="col-md-12 form-group"><label class="form-label">Complete Address</label><input placeholder="Complete Address e.g. house number, street name, landmark" name="address" value="{{user.address}}" type="text" class="form-control"></div>
<div class="col-md-12 form-group"><label class="form-label">Delivery Instructions</label><input placeholder="Delivery Instructions e.g. Opposite Gold Souk Mall" type="text" class="form-control"></div>

</div>
</form>
</div>
<div class="modal-footer p-0 border-0">
<div class="col-6 m-0 p-0">
<button type="button" class="btn border-top btn-lg btn-block" data-dismiss="modal">Close</button>
</div>
<div class="col-6 m-0 p-0">
<button type="submit" class="btn btn-primary btn-lg btn-block">Save changes</button>
</div>
</div>
</div>
</div>
<input id="AArea" value="{{user.area}}"/>
</div>
<script>
   
    
        function inc(x){
            $.ajax({
                    type: 'POST',
                    url: '/addcart',
                    data:{'id':x},
                    dataType:"JSON",
                    success:function(data){
                        data1=data['cartitems'];
                        var res='';
                        var total=0;
                        for(var i in data1)
                        {
                            res+=`<div class="gold-members d-flex align-items-center justify-content-between px-3 py-2 border-bottom">
                                <div class="media align-items-center">
                                    <div class="mr-2 text-danger">&middot;</div>
                                    <div class="media-body">
                                        <p class="m-0 product_name" id="${data1[i]['res__id']}">${data1[i]['res__product_name']}</p> 
                                    </div>
                                </div>
                                <div class="d-flex align-items-center">
                                    <span class="count-number float-right">
                                        <button type="button" onclick="dec(${data1[i]['res__id']})" class="btn-sm left dec btn btn-outline-secondary"> 
                                            <i class="feather-minus"></i> 
                                        </button>
                                        <input class="count-number-input quantity" type="text" readonly="" value="${data1[i]['quantity']}">
                                        <button type="button" onclick="inc(${data1[i]['res__id']})" class="btn-sm right  btn btn-outline-secondary"> 
                                            <i class="feather-plus"></i> 
                                        </button>
                                    </span>
                                    <p class="text-gray mb-0 float-right ml-2 text-muted small">${Number(data1[i]['res__price'])*Number(data1[i]['quantity'])}Rs</p>
                                    </div>
                                </div>`;
                                total+=Number(data1[i]['res__price'])*Number(data1[i]['quantity']);
                        }
                        $('.cartitemslist').html(res);
                        $('.total_price').html(total);
                        $('.total').html(total);
                    }
                });
        }
        function dec(x){
            $.ajax({
                    type: 'POST',
                    url: '/removefromcart',
                    data:{'id':x},
                    dataType:"JSON",
                    success:function(data){
                        data1=data['cartitems'];
                        var res='';
                        var total=0;
                        for(var i in data1)
                        {
                            res+=`<div class="gold-members d-flex align-items-center justify-content-between px-3 py-2 border-bottom">
                                <div class="media align-items-center">
                                    <div class="mr-2 text-danger">&middot;</div>
                                    <div class="media-body">
                                        <p class="m-0 product_name" id="${data1[i]['res__id']}">${data1[i]['res__product_name']}</p> 
                                    </div>
                                </div>
                                <div class="d-flex align-items-center">
                                    <span class="count-number float-right">
                                        <button type="button" onclick="dec(${data1[i]['res__id']})" class="btn-sm left dec btn btn-outline-secondary"> 
                                            <i class="feather-minus"></i> 
                                        </button>
                                        <input class="count-number-input quantity" type="text" readonly="" value="${data1[i]['quantity']}">
                                        <button type="button" onclick="inc(${data1[i]['res__id']})" class="btn-sm right  btn btn-outline-secondary"> 
                                            <i class="feather-plus"></i> 
                                        </button>
                                    </span>
                                    <p class="text-gray mb-0 float-right ml-2 text-muted small">${Number(data1[i]['res__price'])*Number(data1[i]['quantity'])} Rs</p>
                                    </div>
                                </div>`;
                                total+=Number(data1[i]['res__price'])*Number(data1[i]['quantity']);
                        }
                        $('.cartitemslist').html(res);
                        $('.total_price').html(total);
                        $('.total').html(total);
                    }
                });
        }
    </script>
    <script>
        $(document).ready(function(){
            let area=document.getElementById('AArea').value;
            $.ajax({
                    type: 'POST',
                    url: '/cartdetails',
                    dataType:"JSON",
                    success:function(data){
                        data1=data['cartitems'];
                        var res='';
                        var total=0;
                        for(var i in data1)
                        {
                            res+=`<div class="gold-members d-flex align-items-center justify-content-between px-3 py-2 border-bottom">
                                <div class="media align-items-center">
                                    <div class="mr-2 text-danger">&middot;</div>
                                    <div class="media-body">
                                        <p class="m-0 product_name" id="${data1[i]['res__id']}">From:${data1[i]['Restaurent_name']}-<h6>${data1[i]['res__product_name']}</h6></p> 
                                    </div>
                                </div>
                                <div class="d-flex align-items-center">
                                    <span class="count-number float-right">
                                        <button type="button" onclick="dec(${data1[i]['res__id']})" class="btn-sm left dec btn btn-outline-secondary"> 
                                            <i class="feather-minus"></i> 
                                        </button>
                                        <input class="count-number-input quantity" type="text" readonly="" value="${data1[i]['quantity']}">
                                        <button type="button" onclick="inc(${data1[i]['res__id']})" class="btn-sm right  btn btn-outline-secondary"> 
                                            <i class="feather-plus"></i> 
                                        </button>
                                    </span>
                                    <p class="text-gray mb-0 float-right ml-2 text-muted small">${Number(data1[i]['res__price'])*Number(data1[i]['quantity'])} Rs</p>
                                    </div>
                                </div>`;
                                total+=Number(data1[i]['res__price'])*Number(data1[i]['quantity']);
                        }
                        var final_total=total;
                        if(area=="Other"){
                            $('.Delivery_charge').html(20);
                            final_total+=20;
                        }
                        else{
                            $('.Delivery_charge').html(0);

                        }
                        $('.cartitemslist').html(res);
                        $('.total_price').html(total);
                        
                        $('.total').html(final_total);
                    }
                });

            $(".osahan-slider-item:gt(2)").hide();
            $(".addcart_btn").on('click',function(){
                var id=$(this).attr("id");
                inc(id);
            });

            $(".btn-success").on('click',function(){
                var products={};
                var product_name = $(".product_name");
                var quantity=$('.quantity');
                for(var i = 0; i < product_name.length; i++){
                    products[$(product_name[i]).attr("id")]=$(quantity[i]).val();
                }
                $('#products').val(JSON.stringify(products));
                $('#total').val($('.total').html());
              
                
                

            });
            
            
            
        });
        

</script>

<script type="e3ad2492d097532c23a1362f-text/javascript" src="{% static 'vendor/jquery/jquery.min.js' %}"></script>
<script type="e3ad2492d097532c23a1362f-text/javascript" src="{% static 'vendor/bootstrap/js/bootstrap.bundle.min.js' %}"></script>

<script type="e3ad2492d097532c23a1362f-text/javascript" src="{% static 'vendor/slick/slick.min.js' %}"></script>

<script type="e3ad2492d097532c23a1362f-text/javascript" src="{% static 'vendor/sidebar/hc-offcanvas-nav.js' %}"></script>

<script type="e3ad2492d097532c23a1362f-text/javascript" src="{% static 'js/osahan.js' %}"></script>
<script src="{% static 'cdn-cgi/scripts/rocket-loader.min.js' %}" data-cf-settings="e3ad2492d097532c23a1362f-|49" defer=""></script><script defer src="{% static 'https://static.cloudflareinsights.com/beacon.min.js' %}/v652eace1692a40cfa3763df669d7439c1639079717194" integrity="sha512-Gi7xpJR8tSkrpF7aordPZQlW2DLtzUlZcumS8dMQjwDHEnw9I7ZLyiOj/6tZStRBGtGgN6ceN6cMH8z7etPGlw==" data-cf-beacon='{"rayId":"746e3a10fb9ac928","version":"2022.8.1","r":1,"token":"dd471ab1978346bbb991feaa79e6ce5c","si":100}' crossorigin="anonymous"></script>
</body>

<!-- Mirrored from askbootstrap.com/preview/swiggiweb/checkout' %} by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 07 Sep 2022 08:56:03 GMT -->
</html>